<div include-with-scope="page-top.html"></div>
<div class="mycontent" ng-class="{'admin-content': hasRole('MASTER_ADMIN')}">
    <div ba-panel ba-panel-class="profile-page">
        <div ng-controller="adminCharityDetailCtrl" ng-init="initCtrl()" class="panel-content">

            <div class="row" ng-if="restInfo.id">
                <div class="col-md-6"></div>
                <div class="col-md-6">
                    <div class="form-group row clearfix">
                        <div class="col-sm-9">
                            <div class="userpic">
                                <div class="userpic-wrapper">
                                    <img ng-src="{{ restInfo.imageAddress }}" ng-click="uploadPicture()">
                                </div>
                                <i class="ion-ios-close-outline" ng-click="removePicture()"
                                   ng-if="restInfo.imageAddress != 'assets/img/defaults/default-rest.png'"></i>
                                <a href class="change-userpic" ng-click="uploadPicture()">انتخاب عکس</a>
                                <input type="file" ng-show="false" id="uploadFile">
                            </div>
                        </div>
                        <label class="col-sm-3 control-label">عکس</label>
                    </div>
                </div>
            </div>

            <form name="myform" ng-submit="myform.$valid && saveOrUpdate(myform)" novalidate>


                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row clearfix">
                            <div class="col-sm-9">
                                <input tabindex="2" ng-model="restInfo.location.address" ng-maxlength="250" required type="text"
                                       class="form-control" name="adr"
                                       id="adr" placeholder="">
                                <div class="error-message"
                                     ng-show="(myform.adr.$dirty || submitted) && inputIsInvalid(myform.adr.$valid,'adr') && myform.adr.$error.maxlength">
                                    حداکثر 250 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.adr.$dirty || submitted) && inputIsInvalid(myform.adr.$valid,'adr') && myform.adr.$error.required">
                                    پر کردن این فیلد اجباریست
                                </div>
                            </div>
                            <label for="adr" class="col-sm-3 control-label">آدرس</label>
                        </div>
                        <div class="form-group row clearfix">
                            <div class="col-sm-9">
                                <input tabindex="4" ng-model="restInfo.mobile" ng-maxlength="11" ng-minlength="11" required
                                       type="tel" class="form-control"
                                       id="mobile" name="mobile" placeholder="">
                                <div class="error-message"
                                     ng-show="(myform.mobile.$dirty || submitted) && inputIsInvalid(myform.mobile.$valid,'mobile') && myform.mobile.$error.maxlength">
                                    حداکثر 11 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.mobile.$dirty || submitted) && inputIsInvalid(myform.mobile.$valid,'mobile') && myform.mobile.$error.minlength">
                                    حداقل 11 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.mobile.$dirty || submitted) && inputIsInvalid(myform.mobile.$valid,'mobile') && myform.mobile.$error.required">
                                    پر کردن این فیلد اجباریست
                                </div>
                            </div>
                            <label for="mobile" class="col-sm-3 control-label">موبایل</label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row clearfix">
                            <div class="col-sm-9">
                                <input tabindex="1" ng-model="restInfo.name" ng-maxlength="70" ng-minlength="2" required name="name" type="text"
                                       class="form-control" id="name">
                                <div class="error-message"
                                     ng-show="(myform.name.$dirty || submitted) && inputIsInvalid(myform.name.$valid,'name') && myform.name.$error.maxlength">
                                    حداکثر 70 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.name.$dirty || submitted) && inputIsInvalid(myform.name.$valid,'name') && myform.name.$error.minlength">
                                    حداقل 2 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.name.$dirty || submitted) && inputIsInvalid(myform.name.$valid,'name') && myform.name.$error.required">
                                    پر کردن این فیلد اجباریست
                                </div>
                            </div>
                            <label for="name" class="col-sm-3 control-label">نام</label>
                        </div>

                        <div class="form-group row clearfix">
                            <div class="col-sm-9">
                                <input tabindex="3" ng-model="restInfo.phone" ng-minlength="4" ng-maxlength="100" required type="tel"
                                       class="form-control"
                                       id="phone" name="phone" placeholder="">
                                <div class="error-message"
                                     ng-show="(myform.phone.$dirty || submitted) && inputIsInvalid(myform.phone.$valid,'phone') && myform.phone.$error.maxlength">
                                    حداکثر 100 کاراکتر وارد کنید
                                </div>
                                <div class="error-message" ng-show="(myform.phone.$dirty || submitted) && inputIsInvalid(myform.phone.$valid,'phone') && myform.phone.$error.minlength">
                                    حداقل 4 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.phone.$dirty || submitted) && inputIsInvalid(myform.phone.$valid,'phone') && myform.phone.$error.required">
                                    پر کردن این فیلد اجباریست
                                </div>
                            </div>
                            <label for="phone" class="col-sm-3 control-label">تلفن</label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row clearfix">
                            <div class="col-sm-9">
                                <input tabindex="6" ng-model="restInfo.user.password" ng-maxlength="60" ng-minlength="8" required
                                       name="pass" type="password"
                                       class="form-control" id="pass"
                                       style="text-align:right;color: white">
                                <div class="error-message"
                                     ng-show="(myform.pass.$dirty || submitted) && inputIsInvalid(myform.pass.$valid,'pass') && myform.pass.$error.maxlength">
                                    حداکثر 60 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.pass.$dirty || submitted) && inputIsInvalid(myform.pass.$valid,'pass') && myform.pass.$error.minlength">
                                    حداقل 8 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.pass.$dirty || submitted) && inputIsInvalid(myform.pass.$valid,'pass') && myform.pass.$error.required">
                                    پر کردن این فیلد اجباریست
                                </div>
                            </div>
                            <label for="pass" class="col-sm-3 control-label">کلمه عبور</label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row clearfix">
                            <div class="col-sm-9">
                                <input tabindex="5" ng-disabled="restInfo.id" ng-model="restInfo.userName" ng-maxlength="60" ng-minlength="4" type="text"
                                       class="form-control"
                                       name="username" required id="username"
                                       style="text-align:right;color: white">
                                <div class="error-message"
                                     ng-show="(myform.username.$dirty || submitted) && inputIsInvalid(myform.username.$valid,'username') && myform.username.$error.maxlength">
                                    حداکثر 60 کاراکتر وارد کنید
                                </div>
                                <div class="error-message" ng-show="(myform.username.$dirty || submitted) && inputIsInvalid(myform.username.$valid,'username') && myform.username.$error.minlength">
                                    حداقل 4 کاراکتر وارد کنید
                                </div>
                                <div class="error-message"
                                     ng-show="(myform.username.$dirty || submitted) && inputIsInvalid(myform.username.$valid,'username') && myform.username.$error.required">
                                    پر کردن این فیلد اجباریست
                                </div>
                            </div>
                            <label for="username" class="col-sm-3 control-label">نام کاربری</label>
                        </div>
                    </div>
                </div>


                <div class="row" style="text-align: center;height: 400px">
                    <div style="width: 90%;display: inline-table;" ba-panel ba-panel-title="محل شرکت"
                         class="viewport100">
                        <div id="map" style="height: 100%;width: 100%"></div>
                    </div>
                </div>

                <div class="row" style="margin-top: 40px;height: 60px;">
                    <button style="float: right" type="submit" class="btn btn-primary btn-with-icon save-profile">
                        <i class="ion-android-checkmark-circle"></i>ثبت
                    </button>
                    <button type="button" ng-click="goBack()" style="float: right;margin-bottom: 100px"
                            class="btn btn-primary btn-with-icon save-profile">
                        <i class="ion-android-arrow-back"></i>بازگشت
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>